import{d as I,r as a,c as b,p as M,o as V,q as K,a as m,w as u,u as B,b as n,e,g as i,h as S,k as T,s as U,i as q,t as r,F as L,l as c,v as h,x as N}from"./index-BwShmQsP.js";import{A}from"./AppLayout-Deha_Wr3.js";import{_ as D}from"./_plugin-vue_export-helper-DlAUqK2U.js";const F={class:"settings-page"},P={class:"breadcrumbs"},j={key:1,class:"breadcrumb-current"},z={key:2,class:"breadcrumb-separator"},E={class:"config-card"},O={class:"config-header"},R={class:"config-title"},G={class:"config-form"},H={class:"form-field"},J={class:"field-input-wrapper"},Q={class:"form-field"},W={class:"slider-field"},X={class:"slider-value"},Y={class:"form-field toggle-field"},Z={class:"toggle"},$={class:"config-actions"},ee=["disabled"],se=I({__name:"SettingsView",setup(le){const _=K(),k=a([{id:"claude-usage",name:"Claude 用量监控",version:"1.2.0",pluginType:"data",dataType:"usage",enabled:!0,healthy:!0,author:"CUK Official",description:"配置连接参数与监控规则",icon:"bolt"}]),p=a("claude-usage"),t=a({sessionKey:"••••••••••••••••••••••••",refreshInterval:3e4,backgroundMonitoring:!0}),d=a(!1),g=b(()=>k.value.find(o=>o.id===p.value));M(t,()=>{d.value=!0},{deep:!0});async function y(){console.log("Saving config:",t.value),d.value=!1}function C(){t.value={sessionKey:"",refreshInterval:3e4,backgroundMonitoring:!0}}V(()=>{const o=_.query.plugin;o&&(p.value=o)});const v=b(()=>{var o,s;return[{label:"我的插件",path:"/plugins"},{label:(s=(o=g.value)==null?void 0:o.name)!=null?s:"插件配置",path:""}]});return(o,s)=>{const w=U("router-link");return n(),m(B(A),null,{title:u(()=>[...s[3]||(s[3]=[e("h1",null,"全局设置",-1)])]),default:u(()=>{var f;return[e("div",F,[e("nav",P,[(n(!0),i(L,null,S(v.value,(l,x)=>(n(),i("span",{key:l.label},[l.path?(n(),m(w,{key:0,to:l.path,class:"breadcrumb-link"},{default:u(()=>[q(r(l.label),1)]),_:2},1032,["to"])):(n(),i("span",j,r(l.label),1)),x<v.value.length-1?(n(),i("span",z,"›")):T("",!0)]))),128))]),e("div",E,[e("div",O,[s[5]||(s[5]=e("div",{class:"plugin-icon",style:{background:"var(--color-accent)"}},[e("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},[e("path",{d:"M13 2L3 14h9l-1 8 10-12h-9l1-8z",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})])],-1)),e("div",R,[e("h2",null,r((f=g.value)==null?void 0:f.name)+"配置",1),s[4]||(s[4]=e("p",null,"配置连接参数与监控规则",-1))])]),e("div",G,[e("div",H,[s[7]||(s[7]=e("div",{class:"field-header"},[e("label",{class:"field-label"},"会话密钥 (Session Key)"),e("span",{class:"field-required"},"必填")],-1)),e("div",J,[c(e("input",{"onUpdate:modelValue":s[0]||(s[0]=l=>t.value.sessionKey=l),type:"password",class:"field-input",placeholder:"从 anthropic.com cookie 中获取"},null,512),[[h,t.value.sessionKey]]),s[6]||(s[6]=e("span",{class:"field-indicator"},"已加密",-1))]),s[8]||(s[8]=e("p",{class:"field-hint"},"从 anthropic.com cookie 中获取的安全密钥。",-1))]),e("div",Q,[s[9]||(s[9]=e("label",{class:"field-label"},"刷新间隔 (毫秒)",-1)),e("div",W,[c(e("input",{"onUpdate:modelValue":s[1]||(s[1]=l=>t.value.refreshInterval=l),type:"range",min:"5000",max:"60000",step:"1000",class:"slider"},null,512),[[h,t.value.refreshInterval,void 0,{number:!0}]]),e("span",X,r(t.value.refreshInterval)+" ms",1)])]),e("div",Y,[s[11]||(s[11]=e("div",{class:"toggle-info"},[e("span",{class:"toggle-label"},"后台监控"),e("span",{class:"toggle-desc"},"窗口关闭后继续在后台获取数据")],-1)),e("label",Z,[c(e("input",{"onUpdate:modelValue":s[2]||(s[2]=l=>t.value.backgroundMonitoring=l),type:"checkbox"},null,512),[[N,t.value.backgroundMonitoring]]),s[10]||(s[10]=e("span",{class:"toggle-slider"},null,-1))])])]),e("div",$,[e("button",{class:"btn btn-secondary",onClick:C}," 恢复默认 "),e("button",{class:"btn btn-primary",disabled:!d.value,onClick:y}," 保存修改 ",8,ee)])])])]}),_:1})}}}),ae=D(se,[["__scopeId","data-v-cd88603d"]]);export{ae as default};
